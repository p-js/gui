{"version":3,"file":"mtvn.min.js","sources":["mtvn.js"],"names":["root","factory","MTVNPlayer","require","provide","apply","arguments","this","_","$","Handlebars","Backbone","GUI","version","build","Templates","template","depth0","helpers","partials","data","program1","stack1","buffer","buttonLink","call","hash","functionType","escapeExpression","buttonTarget","buttonText","compilerInfo","merge","self","inverse","noop","fn","program","program3","program5","program7","isDVR","isLive","slider","ccEnabled","showVolume","options","blockHelperMissing","metadata","share","AdDisplay","View","extend","tagName","className","events","LEARN_MORE_EVENT_ONLY","click .mtvn-ad-gui-learn-more","touchstart .mtvn-ad-gui-learn-more","initialize","render","defaults","DEFAULT_COPY","$el","html","delegateEvents","$countdown","find","renderMessage","time","messageTempate","isUndefined","countdown","interpolate","text","onLearnMore","event","preventDefault","trigger","Events","LEARN_MORE","countdownText","messageText","TopPanelModel","availableShareItems","validate","intersection","TopPanel","click .mtvn-tp-share","touchstart .mtvn-tp-share","setMetadata","onShare","SHARE","target","ClosedCaptionButton","click","touchstart","toggle","CC","type","Controls","Slider","RESIZE","thumb","thumbActive","formatTime","sec","isNaN","h","Math","floor","m","s","SliderDVRMixin","_isLive","IS_LIVE_THRESHOLD","checkLive","IS_LIVE","duration","playhead","SegmentedSlider","isSegmented","createDividers","$dividerContainer","empty","each","durations","append","moveDividers","dividers","children","index","css","left","getLeftFromPlayhead","enabled","dragging","sliderWidth","touchstart .mtvn-controls-slider-thumb-container","touchmove .mtvn-controls-slider-thumb-container","touchend .mtvn-controls-slider-thumb-container","mousedown .mtvn-controls-slider-thumb-container","bindAll","$document","document","listenTo","onThumbMove","onThumbInactive","$thumbContainer","$progress","$buffered","$timeDisplay","$toolTipContainer","hide","$toolTipTime","throttledMeasure","throttle","measure","throttledRender","setDurations","setPlayhead","setEnabled","seeking","parseFloat","round","max","min","isArray","length","currentDuration","map","num","pop","show","on","bind","moveThumb","updateTime","setBuffered","buffered","width","offsetWidth","visibility","onSliderClick","hasClass","moveTo","pageX","containerOffset","offset","sendSeek","onThumbActive","removeClass","addClass","abs","lastLeft","getTimeFromThumb","percent","thumbLeft","p","getTimeDisplayText","SEEK","CONTROLS_TEMPLATE","playPause","live","volume","cc","addEvents","listener","dispatcher","cb","eventName","click .mtvn-controls-fullscreen","touchstart .mtvn-controls-fullscreen","click .mtvn-controls-rewind","touchstart .mtvn-controls-rewind","playPauseButton","PlayPauseButton","el","paused","PLAY","PAUSE","sendEvent","liveButton","LiveButton","GO_LIVE","onLiveChange","volumeButton","VolumeButton","muted","showVolumeSlider","VOLUME","MUTE","UNMUTE","closedCaptionButton","setVolume","setPaused","getPlayhead","onRewind","REWIND","onFullscreen","FULLSCREEN","golive","setLive","toggleClass","play","pause","isPaused","showPlay","controls","unmute","mute","showSlider","isButton","$target","defaultEvents","mouseEvents","click .mtvn-controls-volume-slider","touchstart .mtvn-controls-volume-slider","mouseover","mouseleave","mousedown .mtvn-controls-volume-slider-foreground","touchstart .mtvn-controls-volume-slider-foreground","$doc","$slider","$container","parent","$thumb","isMuted","delay","updateView","getElementOffset","elOffset","onMouseOut","isMouseOver","offsetX","isLeftOrRight","$toEl","toElement","relatedTarget","toggleTime","toggleSlider","onMouseOver","calculatePercentageFromTop","pageY","getContainerOffset","currentVolume","top","calculateSliderValueFromPercentage","getVolumeHeight","showMute","volumeHeight","percentage","height","newVol"],"mappings":"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"}