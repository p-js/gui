{"version":3,"file":"gui.min.js","sources":["gui.js"],"names":["GUI","_","$","Handlebars","Backbone","version","build","Templates","this","template","depth0","helpers","partials","data","program1","stack1","buffer","buttonLink","call","hash","functionType","apply","escapeExpression","buttonTarget","buttonText","compilerInfo","merge","self","inverse","noop","fn","program","program3","program5","program7","isDVR","isLive","slider","ccEnabled","showVolume","options","blockHelperMissing","metadata","share","AdDisplay","View","extend","tagName","className","events","LEARN_MORE_EVENT_ONLY","click .mtvn-ad-gui-learn-more","touchstart .mtvn-ad-gui-learn-more","initialize","render","defaults","DEFAULT_COPY","$el","html","delegateEvents","$countdown","find","renderMessage","time","messageTempate","isUndefined","countdown","interpolate","text","onLearnMore","event","preventDefault","trigger","Events","LEARN_MORE","countdownText","messageText","TopPanelModel","availableShareItems","validate","intersection","TopPanel","click .mtvn-tp-share","touchstart .mtvn-tp-share","setMetadata","onShare","SHARE","target","ClosedCaptionButton","click","touchstart","toggle","CC","type","Controls","Slider","RESIZE","thumb","thumbActive","formatTime","sec","isNaN","h","Math","floor","m","s","SliderDVRMixin","_isLive","IS_LIVE_THRESHOLD","checkLive","IS_LIVE","duration","playhead","SegmentedSlider","isSegmented","createDividers","$dividerContainer","empty","each","durations","append","moveDividers","dividers","children","index","css","left","getLeftFromPlayhead","enabled","dragging","sliderWidth","touchstart .mtvn-controls-slider-thumb-container","touchmove .mtvn-controls-slider-thumb-container","touchend .mtvn-controls-slider-thumb-container","mousedown .mtvn-controls-slider-thumb-container","bindAll","$document","document","listenTo","onThumbMove","onThumbInactive","$thumbContainer","$progress","$buffered","$timeDisplay","$toolTipContainer","hide","$toolTipTime","throttledMeasure","throttle","measure","throttledRender","setDurations","setPlayhead","setEnabled","seeking","parseFloat","round","max","min","isArray","length","currentDuration","map","num","pop","show","on","bind","moveThumb","updateTime","setBuffered","buffered","width","offsetWidth","visibility","onSliderClick","hasClass","moveTo","pageX","containerOffset","offset","sendSeek","onThumbActive","removeClass","addClass","abs","lastLeft","getTimeFromThumb","percent","thumbLeft","p","getTimeDisplayText","SEEK","CONTROLS_TEMPLATE","playPause","live","volume","cc","addEvents","listener","dispatcher","cb","eventName","click .mtvn-controls-fullscreen","touchstart .mtvn-controls-fullscreen","click .mtvn-controls-rewind","touchstart .mtvn-controls-rewind","playPauseButton","PlayPauseButton","el","paused","PLAY","PAUSE","sendEvent","liveButton","LiveButton","GO_LIVE","onLiveChange","volumeButton","VolumeButton","muted","showVolumeSlider","VOLUME","MUTE","UNMUTE","closedCaptionButton","setVolume","setPaused","getPlayhead","onRewind","REWIND","onFullscreen","FULLSCREEN","golive","setLive","toggleClass","play","pause","isPaused","showPlay","controls","unmute","mute","showSlider","isButton","$target","defaultEvents","mouseEvents","click .mtvn-controls-volume-slider","touchstart .mtvn-controls-volume-slider","mouseover","mouseleave","mousedown .mtvn-controls-volume-slider-foreground","touchstart .mtvn-controls-volume-slider-foreground","$doc","$slider","$container","parent","$thumb","isMuted","delay","updateView","getElementOffset","elOffset","onMouseOut","isMouseOver","offsetX","isLeftOrRight","$toEl","toElement","relatedTarget","toggleTime","toggleSlider","onMouseOver","calculatePercentageFromTop","pageY","getContainerOffset","currentVolume","top","calculateSliderValueFromPercentage","getVolumeHeight","showMute","volumeHeight","percentage","height","newVol"],"mappings":"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"}