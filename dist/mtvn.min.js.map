{"version":3,"file":"mtvn.min.js","sources":["mtvn.js"],"names":["root","factory","MTVNPlayer","require","provide","apply","arguments","this","_","$","Handlebars","Backbone","GUI","version","build","Templates","template","1","depth0","helpers","partials","data","helper","functionType","helperMissing","escapeExpression","buttonLink","call","name","hash","buttonTarget","buttonText","compiler","main","stack1","buffer","fn","program","inverse","noop","useData","3","5","7","isDVR","isLive","slider","ccEnabled","showVolume","lambda","options","blockHelperMissing","metadata","share","AdDisplay","View","extend","tagName","className","events","LEARN_MORE_EVENT_ONLY","click .mtvn-ad-gui-learn-more","touchstart .mtvn-ad-gui-learn-more","initialize","render","defaults","DEFAULT_COPY","$el","html","delegateEvents","$countdown","renderMessage","time","messageTempate","getTemplate","countdown","interpolate","text","messageText","countdownText","index","total","countdownTextWithPosition","onLearnMore","event","preventDefault","trigger","Events","LEARN_MORE","TopPanelModel","availableShareItems","validate","intersection","TopPanel","click .mtvn-tp-share","touchstart .mtvn-tp-share","setMetadata","hide","addClass","show","removeClass","onShare","SHARE","target","ClosedCaptionButton","click","touchstart","toggle","CC","type","Controls","Slider","RESIZE","thumb","thumbActive","formatTime","sec","isNaN","h","Math","floor","m","s","getPageX","pageX","touches","length","SliderDVRMixin","_isLive","IS_LIVE_THRESHOLD","checkLive","IS_LIVE","duration","playhead","SegmentedSlider","isSegmented","createDividers","$dividerContainer","empty","each","durations","append","moveDividers","dividers","children","css","left","getLeftFromPlayhead","enabled","dragging","sliderWidth","touchstart .mtvn-controls-slider-thumb-container","touchmove .mtvn-controls-slider-thumb-container","touchend .mtvn-controls-slider-thumb-container","mousedown .mtvn-controls-slider-thumb-container","bindAll","$document","document","listenTo","onThumbMove","onThumbInactive","$thumbContainer","$progress","$buffered","$timeDisplay","$toolTipContainer","$toolTipTime","throttledMeasure","throttle","measure","throttledRender","setDurations","setPlayhead","setEnabled","seeking","parseFloat","round","max","min","isArray","currentDuration","map","num","pop","on","bind","moveThumb","updateTime","setBuffered","buffered","width","offsetWidth","visibility","onSliderClick","hasClass","moveTo","containerOffset","offset","sendSeek","onThumbActive","abs","lastLeft","getTimeFromThumb","percent","thumbLeft","p","getTimeDisplayText","SEEK","CONTROLS_TEMPLATE","playPause","live","volume","cc","addEvents","listener","dispatcher","cb","eventName","click .mtvn-controls-fullscreen","touchstart .mtvn-controls-fullscreen","click .mtvn-controls-rewind","touchstart .mtvn-controls-rewind","playPauseButton","PlayPauseButton","el","paused","PLAY","PAUSE","sendEvent","liveButton","LiveButton","GO_LIVE","onLiveChange","volumeButton","VolumeButton","muted","showVolumeSlider","VOLUME","MUTE","UNMUTE","closedCaptionButton","setVolume","setPaused","getPlayhead","onRewind","REWIND","onFullscreen","FULLSCREEN","golive","setLive","toggleClass","play","pause","isPaused","showPlay","controls","unmute","mute","showSlider","isButton","$target","defaultEvents","mouseEvents","click .mtvn-controls-volume-slider","touchstart .mtvn-controls-volume-slider","mouseover","mouseleave","mousedown .mtvn-controls-volume-slider-foreground","touchstart .mtvn-controls-volume-slider-foreground","$doc","$slider","$container","parent","$thumb","isMuted","delay","updateView","getElementOffset","elOffset","onMouseOut","isMouseOver","offsetX","isUndefined","isLeftOrRight","$toEl","toElement","relatedTarget","toggleTime","toggleSlider","onMouseOver","calculatePercentageFromTop","pageY","getContainerOffset","currentVolume","top","calculateSliderValueFromPercentage","getVolumeHeight","showMute","volumeHeight","percentage","height","newVol"],"mappings":"CAAC,SAASA,EAAMC,GAEW,gBAAfC,aACVA,WAAWC,SAAS,IAAK,IAAK,aAAc,YAAa,WACxDD,WAAWE,QAAQ,UAAWH,EAAQI,MAAM,KAAMC,eAGnDC,KAAM,SAASC,EAAGC,EAAGC,EAAYC,GAKlC,GAAIC,IACHC,QAAS,SACTC,MAAO,4BAQJC,EAAY,WAuFf,MAtFAR,MAAgB,UAAIA,KAAgB,cAEpCA,KAAgB,UAAE,gCAAkCG,EAAWM,UAAUC,EAAI,SAASC,EAAOC,EAAQC,EAASC,GAC5G,GAAIC,GAAQC,EAAa,WAAYC,EAAcL,EAAQK,cAAeC,EAAiBlB,KAAKkB,gBAChG,OAAO,+CACHA,GAAmBH,EAA2F,OAAjFA,EAASH,EAAQO,aAAyB,MAAVR,EAAiBA,EAAOQ,WAAaR,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,aAAaC,QAAUR,KAAOA,IAASC,IAClP,aACAG,GAAmBH,EAA+F,OAArFA,EAASH,EAAQW,eAA2B,MAAVZ,EAAiBA,EAAOY,aAAeZ,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,eAAeC,QAAUR,KAAOA,IAASC,IACxP,YACAG,GAAmBH,EAA2F,OAAjFA,EAASH,EAAQY,aAAyB,MAAVb,EAAiBA,EAAOa,WAAab,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,aAAaC,QAAUR,KAAOA,IAASC,IAClP,gBACJU,UAAY,EAAE,mBAAmBC,KAAO,SAASf,EAAOC,EAAQC,EAASC,GACzE,GAAIa,GAAQC,EAAS,wFAGrB,OAFAD,GAASf,EAAQ,MAAMQ,KAAKT,EAAmB,MAAVA,EAAiBA,EAAOQ,WAAaR,GAAUU,KAAO,KAAKC,QAAUO,GAAK7B,KAAK8B,QAAQ,EAAGhB,GAAMiB,QAAU/B,KAAKgC,KAAKlB,KAAOA,IAClJ,MAAVa,IAAkBC,GAAUD,GACzBC,EAAS,YAChBK,SAAU,IAIZjC,KAAgB,UAAE,8BAAgCG,EAAWM,UAAUC,EAAI,WACzE,MAAO,mEACLwB,EAAI,WACN,MAAO,iEACLC,EAAI,WACN,MAAO,+DACLC,EAAI,WACN,MAAO,oUACLX,UAAY,EAAE,mBAAmBC,KAAO,SAASf,EAAOC,EAAQC,EAASC,GAC3E,GAAIa,GAAQZ,EAAQC,EAAa,WAAYC,EAAcL,EAAQK,cAAeC,EAAiBlB,KAAKkB,iBAAkBU,EAAS,qBAmCnI,OAlCAD,GAASf,EAAQ,MAAMQ,KAAKT,EAAmB,MAAVA,EAAiBA,EAAO0B,MAAQ1B,GAAUU,KAAO,KAAKC,QAAUO,GAAK7B,KAAK8B,QAAQ,EAAGhB,GAAMiB,QAAU/B,KAAKgC,KAAKlB,KAAOA,IAC7I,MAAVa,IAAkBC,GAAUD,GAChCC,GAAU,sEACVD,EAASf,EAAQ,MAAMQ,KAAKT,EAAmB,MAAVA,EAAiBA,EAAO2B,OAAS3B,GAAUU,KAAO,KAAKC,QAAUO,GAAK7B,KAAK8B,QAAQ,EAAGhB,GAAMiB,QAAU/B,KAAKgC,KAAKlB,KAAOA,IAC9I,MAAVa,IAAkBC,GAAUD,GAChCC,GAAU,eACNV,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,oBACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,uCACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,wCACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,oCACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,4CACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,qCACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,4CACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,qCACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,yCACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,gDACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,mDACAG,GAAmBH,EAAmF,OAAzEA,EAASH,EAAQ2B,SAAqB,MAAV5B,EAAiBA,EAAO4B,OAAS5B,IAAmBI,EAASE,QAAuBF,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,SAASC,QAAUR,KAAOA,IAASC,IACtO,+BACJY,EAASf,EAAQ,MAAMQ,KAAKT,EAAmB,MAAVA,EAAiBA,EAAO6B,UAAY7B,GAAUU,KAAO,KAAKC,QAAUO,GAAK7B,KAAK8B,QAAQ,EAAGhB,GAAMiB,QAAU/B,KAAKgC,KAAKlB,KAAOA,IACjJ,MAAVa,IAAkBC,GAAUD,GAChCA,EAASf,EAAQ,MAAMQ,KAAKT,EAAmB,MAAVA,EAAiBA,EAAO8B,WAAa9B,GAAUU,KAAO,KAAKC,QAAUO,GAAK7B,KAAK8B,QAAQ,EAAGhB,GAAMiB,QAAU/B,KAAKgC,KAAKlB,KAAOA,IAClJ,MAAVa,IAAkBC,GAAUD,GACzBC,EAAS,qEAChBK,SAAU,IAIZjC,KAAgB,UAAE,gCAAkCG,EAAWM,UAAUC,EAAI,SAASC,GACpF,GAAI+B,GAAO1C,KAAK0C,OAAQxB,EAAiBlB,KAAKkB,gBAC9C,OAAO,uFACHA,EAAiBwB,EAAO/B,EAAQA,IAChC,oBACAO,EAAiBwB,EAAO/B,EAAQA,IAChC,cACJc,UAAY,EAAE,mBAAmBC,KAAO,SAASf,EAAOC,EAAQC,EAASC,GACzE,GAAIa,GAAQZ,EAAQ4B,EAAS3B,EAAa,WAAYC,EAAcL,EAAQK,cAAe2B,EAAmBhC,EAAQgC,mBAAoBhB,EAAS,mEAOnJ,OANWb,GAAuF,OAA7EA,EAASH,EAAQiC,WAAuB,MAAVlC,EAAiBA,EAAOkC,SAAWlC,IAAmBI,EAASE,EAAlHU,QAAyIZ,KAAWC,EAAeD,EAAOK,KAAKT,GAASU,KAAO,WAAWC,QAAUR,KAAOA,IAASC,EACtN,MAAVY,IAAkBC,GAAUD,GAChCC,GAAU,0CACCb,EAAiF,OAAvEA,EAASH,EAAQkC,QAAoB,MAAVnC,EAAiBA,EAAOmC,MAAQnC,IAAmBI,EAASE,EAAgB0B,GAAStB,KAAO,QAAQC,QAAUO,GAAK7B,KAAK8B,QAAQ,EAAGhB,GAAMiB,QAAU/B,KAAKgC,KAAKlB,KAAOA,GAApNa,QAAmOZ,KAAWC,EAAeD,EAAOK,KAAKT,EAAQgC,GAAW5B,EACvRH,EAAQkC,QAASnB,EAASiB,EAAmBxB,KAAKT,EAAQgB,EAAQgB,IACzD,MAAVhB,IAAkBC,GAAUD,GACzBC,EAAS,mBAChBK,SAAU,IACLjC,KAAKQ,WACVV,UAGCiD,EAAY3C,EAAS4C,KAAKC,QAC7BxC,SAAUD,EAAU,gCACpB0C,QAAS,MACTC,UAAW,cACXC,OAAQ,WACP,MAAIpD,MAAK2C,QAAQxB,aAAe4B,EAAUM,uBAExCC,gCAAiC,cACjCC,qCAAsC,eAHxC,QAODC,WAAY,SAASb,GACpB3C,KAAKyD,OAAOd,IAEbc,OAAQ,SAASd,GAChBA,EAAU3C,KAAK2C,QAAU1C,EAAEyD,SAASf,MAAeI,EAAUY,aAC7D,IAAIlD,GAAWkC,EAAQlC,UAAYT,KAAKS,QAKxC,OAJAT,MAAK4D,IAAIC,KAAK3D,EAAEO,EAASkC,KACzB3C,KAAK8D,iBACL9D,KAAK+D,WAAa/D,KAAKE,EAAE,0BACzBF,KAAKgE,cAAcrB,EAAQsB,MACpBjE,KAAK4D,KAEbI,cAAe,SAASrB,GACvB1C,EAAEgD,OAAOjD,KAAK2C,QAASA,EACvB,IAAIuB,GAAiBlE,KAAKmE,YAAYnE,KAAK2C,SAC1CyB,EAAYnE,EAAEQ,SAASyD,EAAgBlE,KAAK2C,SAC3C0B,YAAa,kBAEfrE,MAAK+D,WAAWO,KAAKF,IAEtBD,YAAa,SAASxB,GACrB,GAAI2B,GAAO3B,EAAQ4B,WAInB,OAHI5B,GAAQsB,OACXK,EAAO3B,EAAQ6B,eAEZ7B,EAAQ8B,OAAS,GAAK9B,EAAQ+B,MAAQ,EAClC/B,EAAQgC,0BAA4B,IAAML,EAE3CA,GAERM,YAAa,SAASC,GACjB7E,KAAK2C,QAAQxB,aAAe4B,EAAUM,wBACzCwB,EAAMC,iBACN9E,KAAK+E,QAAQhC,EAAUiC,OAAOC,gBAIhCD,QACCC,WAAY,cAEb5B,sBAAuB,IACvBM,cACCa,cAAe,wCACfG,0BAA2B,iCAC3BJ,YAAa,oCACb/C,WAAY,aACZD,aAAc,YAKZ2D,GACHC,qBAAsB,WAAY,UAAW,SAC7CC,SAAU,SAASzC,GAIlB,MAHIA,GAAQG,QACXH,EAAQG,MAAQ7C,EAAEoF,aAAa1C,EAAQG,MAAOoC,EAAcC,sBAEtDxC,IAKL2C,EAAWlF,EAAS4C,KAAKC,QAC5BxC,SAAUD,EAAU,gCACpB0C,QAAS,MACTC,UAAW,UACXC,QACCmC,uBAAwB,UACxBC,4BAA6B,WAE9BhC,WAAY,SAASb,GACpB3C,KAAK2C,QAAUuC,EAAcE,SAASzC,OACtC3C,KAAKyD,UAENgC,YAAa,SAAS5B,GACrB7D,KAAKE,EAAE,qBAAqB2D,KAAKA,IAElCJ,OAAQ,WACPzD,KAAK4D,IAAIC,KAAK3D,EAAEF,KAAKS,SAAST,KAAK2C,YAEpC+C,KAAM,WACL1F,KAAK4D,IAAI+B,SAAS,mBAEnBC,KAAM,WACL5F,KAAK4D,IAAIiC,YAAY,mBAEtBC,QAAS,SAASjB,GACjBA,EAAMC,iBACN9E,KAAK+E,QAAQO,EAASN,OAAOe,MAAO7F,EAAE2E,EAAMmB,QAAQlF,KAAK,gBAG1DkE,QACCe,MAAO,WAKLE,EAAsB,WACzB,MAAO7F,GAAS4C,KAAKC,QACpBT,WAAW,EACXW,UAAW,mBACXC,QACC8C,MAAO,SACPC,WAAY,UAEbC,OAAQ,SAASvB,GAChBA,EAAMC,iBACN9E,KAAK+E,QAAQC,EAAOqB,IACnBC,KAAMtB,EAAOqB,WAQbE,EAAW,WAGd,GAAIC,GAAS,WACZ,GAAIC,GAAS,gBACZC,EAAQ,6BACRC,EAAc,oCACdC,EAAa,SAASC,GACrB,GAAIC,MAAMD,GACT,MAAO,OAER,IAAIE,GAAIC,KAAKC,MAAMJ,EAAM,MACxBK,EAAIF,KAAKC,MAAOJ,EAAM,KAAQ,IAC9BM,EAAIH,KAAKC,MAAOJ,EAAM,KAAQ,GAC/B,QAAc,IAANE,EAAU,GAAU,GAAJA,EAAS,IAAMA,EAAI,IAAMA,EAAI,MAAa,GAAJG,EAAS,IAAMA,EAAIA,GAAK,KAAW,GAAJC,EAAS,IAAMA,EAAIA,IAEjHC,EAAW,SAASvC,GACnB,GAAIwC,GAAQxC,EAAMwC,KAClB,OAAIA,GAAQ,EACJA,EAEJxC,EAAMyC,SAAWzC,EAAMyC,QAAQC,OAAS,EACpC1C,EAAMyC,QAAQ,GAAGD,MAElB,GAKLG,GACHC,SAAS,EACTC,kBAAmB,EACnBC,UAAW,WACV,GAAIrF,GAAStC,KAAKsC,QACdtC,MAAKyH,UAAYnF,IACpBtC,KAAK+E,QAAQC,EAAO4C,SACnBtB,KAAMtB,EAAO4C,QACb9G,KAAMwB,EACN0D,OAAQhG,OAETA,KAAKyH,QAAUnF,IAGjBA,OAAQ,WACP,MAAOtC,MAAK6H,SAAW7H,KAAK8H,SAAW9H,KAAK0H,oBAM1CK,GACHC,aAAa,EACbC,eAAgB,WACfjI,KAAKkI,kBAAkBC,QACvBlI,EAAEmI,KAAKpI,KAAKqI,UAAW,WACtBrI,KAAKkI,kBAAkBI,OAAOpI,EAAE,iDAC9BF,OAEJuI,aAAc,WACb,GAAIC,GAAWxI,KAAKkI,kBAAkBO,UACtCxI,GAAEmI,KAAKpI,KAAKqI,UAAW,SAASR,EAAUpD,GACzCvE,EAAEsI,EAAS/D,IAAQiE,KAClBC,KAAM3I,KAAK4I,oBAAoBf,MAE9B7H,OAGL,OAAOI,GAAS4C,KAAKC,QAIpB4F,SAAS,EAITC,UAAU,EAIVjB,SAAU,EAIVC,SAAU,EAIViB,YAAa,EACb3F,OAAQ,WACP,MAAOnD,GAAEgD,QACRiD,MAAS,gBACTC,WAAc,gBACd6C,mDAAoD,gBACpDC,kDAAmD,cACnDC,iDAAkD,kBAClDC,kDAAmD,mBAGrD3F,WAAY,SAASb,GACpB3C,KAAK2C,QAAUA,EAEf1C,EAAEmJ,QAAQpJ,KAAM,cAAe,kBAC/B,IAAIqJ,GAAYnJ,EAAEoJ,SAClBtJ,MAAKuJ,SAASF,EAAW,YAAarJ,KAAKwJ,aAC3CxJ,KAAKuJ,SAASF,EAAW,UAAWrJ,KAAKyJ,iBAIzCzJ,KAAK0J,gBAAkB1J,KAAKE,EAAE,yCAI9BF,KAAK2J,UAAY3J,KAAKE,EAAE,kCAIxBF,KAAK4J,UAAY5J,KAAKE,EAAE,kCAIxBF,KAAK6J,aAAe7J,KAAKE,EAAE,sCAI3BF,KAAK8J,kBAAoB9J,KAAKE,EAAE,4CAChCF,KAAK8J,kBAAkBpE,OAIvB1F,KAAK+J,aAAe/J,KAAKE,EAAE,uCAI3BF,KAAKkI,kBAAoBlI,KAAKE,EAAE,2CAIhCF,KAAKgK,iBAAmB/J,EAAEgK,SAASjK,KAAKkK,QAAS,MACjDlK,KAAKmK,gBAAkBlK,EAAEgK,SAASjK,KAAKyD,OAAQ,KAC/CzD,KAAKoK,aAAapK,KAAK2C,QAAQ0F,WAC/BrI,KAAKqK,YAAYrK,KAAK2C,QAAQmF,UAC1BnF,EAAQN,MACXpC,EAAEgD,OAAOjD,KAAMwH,GACL7E,EAAQL,QAClBtC,KAAKsK,YAAW,IAGlBD,YAAa,SAASvC,GAChB9H,KAAK8I,UAAa9I,KAAKuK,UACvBzD,MAAMgB,KACTA,EAAW0C,WAAW1C,EAAU,KAE5BhB,MAAMgB,KACVA,EAAWd,KAAKyD,MAAiB,IAAX3C,GAAkB,IACxC9H,KAAK8H,SAAWd,KAAK0D,IAAI,EAAG1D,KAAK2D,IAAI7C,EAAU9H,KAAK6H,WACpD7H,KAAKmK,qBAIRC,aAAc,SAAS/B,GACtB,GAAKpI,EAAE2K,QAAQvC,GAAf,EAGKrI,KAAK2C,QAAQL,QAAU+F,EAAUd,OAAS,IAAMvH,KAAKgI,aACzD/H,EAAEgD,OAAOjD,KAAM+H,EAEhB,IAAI8C,GAAkB,CACtB7K,MAAKqI,UAAYpI,EAAE6K,IAAIzC,EAAW,SAAS0C,GAE1C,MADAF,IAAmBE,IAGpB/K,KAAK6H,SAAW7H,KAAKqI,UAAU2C,MAC/BhL,KAAKgK,mBACDhK,KAAKgI,aACRhI,KAAKiI,iBACLjI,KAAKuI,eACLvI,KAAKkI,kBAAkBtC,OACvB5F,KAAKiL,GAAGxE,EAAQxG,EAAEiL,KAAKlL,KAAKuI,aAAcvI,QAE1CA,KAAKkI,kBAAkBxC,OAExB1F,KAAKmK,oBAEN1G,OAAQ,WACHzD,KAAK8I,UAAY9I,KAAKuK,UAG1BvK,KAAK2H,YACL3H,KAAKgK,mBACLhK,KAAKmL,UAAUnL,KAAK4I,oBAAoB5I,KAAKsC,SAAWtC,KAAK6H,SAAW7H,KAAK8H,WAC7E9H,KAAKoL,eAENC,YAAa,SAASC,GACrB,IAAKtL,KAAK8I,WAAa9I,KAAKuK,SAAWvK,KAAK6H,SAAW,EAAG,CACzD,GAAIc,GAAO3B,KAAK0D,IAAI,EAAG1K,KAAK4I,oBAAoB0C,GAChDtL,MAAKgK,mBACLrB,EAAO3B,KAAK2D,IAAIhC,EAAM3I,KAAK+I,aAC3B/I,KAAK4J,UAAUlB,KACd6C,MAAO5C,MAIVuB,QAAS,WACR,GAAInB,GAAc/I,KAAK4D,IAAI,GAAG4H,WAC1BzC,KAAgB/I,KAAK+I,cACxB/I,KAAK+I,YAAcA,EACnB/I,KAAK+E,QAAQ0B,EAAQsC,KAGvBzG,OAAQ,WACP,OAAO,GAERqF,UAAW,aACX2C,WAAY,SAASzB,GAChBA,IAAY7I,KAAK6I,UAChBA,GACH7I,KAAK0J,gBAAgB9D,OACrB5F,KAAK6J,aAAanB,KACjB+C,WAAY,YAEbzL,KAAK4J,UAAUhE,OACf5F,KAAK2J,UAAU/D,SAEf5F,KAAK0J,gBAAgBhE,OACrB1F,KAAK6J,aAAanB,KACjB+C,WAAY,WAEbzL,KAAK2J,UAAUjE,OACf1F,KAAK4J,UAAUlE,SAGjB1F,KAAK6I,QAAUA,GAEhB6C,cAAe,SAAS7G,GAEvB,GADAA,EAAMC,iBACD9E,KAAK6I,UAAW3I,EAAE2E,EAAMmB,QAAQ2F,SAASjF,GAA9C,CAIA,GAAIkF,GAASxE,EAASvC,EACjB7E,MAAK6L,kBACT7L,KAAK6L,gBAAkB7L,KAAK4D,IAAIkI,SAASnD,MAE1C3I,KAAKmL,UAAUS,EAAS5L,KAAK6L,iBAC7B7L,KAAK+L,aAENC,cAAe,SAASnH,GACvBA,EAAMC,gBACN,IAAIlB,GAAM5D,KAAKE,EAAE,IAAMwG,EACvB9C,GAAIiC,YAAYa,GAChB9C,EAAI+B,SAASgB,GACb3G,KAAK8I,UAAW,EAChB9I,KAAKgK,mBACLhK,KAAK4J,UAAUlB,KACd6C,MAAO,IAERvL,KAAK+J,aAAalG,KAAK+C,EAAW5G,KAAK8H,WACvC9H,KAAK8J,kBAAkBlE,QAExB4D,YAAa,SAAS3E,GACrB,GAAI7E,KAAK8I,SAAU,CAClBjE,EAAMC,gBACN,IAAI8G,GAASxE,EAASvC,EACjB7E,MAAK6L,kBACT7L,KAAK6L,gBAAkB7L,KAAK4D,IAAIkI,SAASnD,MAE1C3I,KAAKmL,UAAUS,EAAS5L,KAAK6L,mBAG/BpC,gBAAiB,SAAS5E,GACzB,GAAI7E,KAAK8I,SAAU,CAClBjE,EAAMC,gBACN,IAAIlB,GAAM5D,KAAKE,EAAE,IAAMyG,EACvB/C,GAAIiC,YAAYc,GAChB/C,EAAI+B,SAASe,GACb1G,KAAK8I,UAAW,EAChB9I,KAAK+L,WACL/L,KAAK8J,kBAAkBpE,SAGzByF,UAAW,SAASS,GACnB,GAAIjD,GAAO3B,KAAK0D,IAAI,EAAGkB,EACvBjD,GAAO3B,KAAK2D,IAAIhC,EAAM3I,KAAK+I,aACvBjC,MAAM6B,IAGN3B,KAAKiF,IAAIjM,KAAKkM,SAAWvD,GAAQ,MAGrC3I,KAAK0J,gBAAgBhB,KACpBC,KAAMA,IAEP3I,KAAK2J,UAAUjB,KACd6C,MAAO5C,IAER3I,KAAK+J,aAAalG,KAAK+C,EAAW5G,KAAKmM,iBAAiBxD,KACxD3I,KAAKkM,SAAWvD,IAEjBC,oBAAqB,SAASd,GAC7B,IAAKA,EACJ,MAAO,EAER,IAAIsE,GAAUtE,EAAWd,KAAK0D,IAAI,EAAG1K,KAAK6H,SAC1C,OAAOuE,GAAUpM,KAAK+I,aAEvBoD,iBAAkB,SAASE,GACtBvF,MAAMuF,KACTA,EAAY7B,WAAWxK,KAAK0J,gBAAgBhB,IAAI,QAAS,IAE1D,IAAI4D,GAAID,EAAYrM,KAAK+I,WACzB,OAAOuD,GAAItM,KAAK6H,UAEjBuD,WAAY,WACXpL,KAAK6J,aAAahG,KAAK7D,KAAKuM,uBAE7BA,mBAAoB,WACnB,MAAKvM,MAAK6H,SAGN7H,KAAKsC,SACDsE,EAAW5G,KAAK6H,UAEhB,mDAAuDjB,EAAW5G,KAAK8H,UAAY,aAAelB,EAAW5G,KAAK6H,UALlH,IAQTkE,SAAU,WACT/L,KAAKqK,YAAYrK,KAAKmM,oBACtBnM,KAAK+E,QAAQC,EAAOwH,MACnBlG,KAAMtB,EAAOwH,KACb1L,KAAMd,KAAK8H,iBAKX2E,EAAoBjM,EAAU,8BACjCkI,GACChD,KAAM,uBACNnD,OAAQ,uBACRmK,UAAW,2BACXC,KAAM,qBACNC,OAAQ,uBACRC,GAAI,oBAELC,EAAY,SAASC,EAAUC,EAAY5J,EAAQ6J,GAClDhN,EAAEmI,KAAKhF,EAAQ,SAAS8J,GACvBH,EAASxD,SAASyD,EAAYE,EAAWD,KAG5C,OAAO7M,GAAS4C,KAAKC,QACpBC,QAAS,MACTC,UAAW,gBACXC,QACC+J,kCAAmC,eACnCC,uCAAwC,eACxCC,8BAA+B,WAC/BC,mCAAoC,YAErC9J,WAAY,SAASb,GACpB3C,KAAK2C,QAAUA,EACf1C,EAAEmJ,QAAQpJ,KAAM,aAChBC,EAAEgD,OAAOjD,KAAK2C,SACbJ,OAAQmG,EAAInG,SAEbvC,KAAKyD,UAENA,OAAQ,WACP,GAAId,GAAU3C,KAAK2C,OACnB3C,MAAK4D,IAAIC,KAAK3D,EAAEuM,EAAkB9J,KAElC3C,KAAKuN,gBAAkB,GAAIC,IAC1BC,GAAIzN,KAAKE,EAAE,IAAMwI,EAAIgE,WACrBgB,OAAQ/K,EAAQ+K,SAEjBZ,EAAU9M,KAAMA,KAAKuN,iBAAkBvI,EAAO2I,KAAM3I,EAAO4I,OAAQ5N,KAAK6N,WAExE7N,KAAKuC,OAAS,GAAIiE,IACjBiH,GAAIzN,KAAKE,EAAE,IAAMwI,EAAInG,QACrBuF,SAAUnF,EAAQmF,SAClBxF,OAAQK,EAAQL,OAChBD,MAAOM,EAAQN,MACfgG,UAAW1F,EAAQ0F,YAGpBrI,KAAKuJ,SAASvJ,KAAKuC,OAAQyC,EAAOwH,KAAMxM,KAAK6N,WAEzClL,EAAQL,SACXtC,KAAK8N,WAAa,GAAIC,IACrBN,GAAIzN,KAAKE,EAAE,IAAMwI,EAAIiE,MACrBrK,OAAQK,EAAQL,SAEbK,EAAQN,QAEXrC,KAAKuJ,SAASvJ,KAAK8N,WAAY9I,EAAOgJ,QAAShO,KAAK6N,WAEpD7N,KAAK8N,WAAWvE,SAASvJ,KAAKuC,OAAQyC,EAAO4C,QAAS5H,KAAK8N,WAAWG,gBAIpEtL,EAAQF,aACXzC,KAAKkO,aAAe,GAAIC,IACvBvB,OAAQjK,EAAQiK,OAChBwB,MAAOzL,EAAQyL,MACfC,iBAAkB1L,EAAQ0L,iBAC1BZ,GAAIzN,KAAKE,EAAE,IAAMwI,EAAIkE,UAGtBE,EAAU9M,KAAMA,KAAKkO,cAAelJ,EAAOsJ,OAAQtJ,EAAOuJ,KAAMvJ,EAAOwJ,QAASxO,KAAK6N,YAGtF7N,KAAKyO,oBAAsB,GAAIxI,IAC9BzD,UAAWG,EAAQH,UACnBiL,GAAIzN,KAAKE,EAAE,IAAMwI,EAAImE,MAGtB7M,KAAKuJ,SAASvJ,KAAKyO,oBAAqBzJ,EAAOqB,GAAIrG,KAAK6N,YAEzDnI,KAAM,WACL1F,KAAK4D,IAAI+B,SAAS+C,EAAIhD,MAClB1F,KAAKkO,cACRlO,KAAKkO,aAAa5D,YAAW,IAG/B1E,KAAM,WACL5F,KAAK4D,IAAIiC,YAAY6C,EAAIhD,MACrB1F,KAAKkO,cACRlO,KAAKkO,aAAa5D,YAAW,IAG/BoE,UAAW,SAAS9B,GACd5M,KAAKkO,cAGVlO,KAAKkO,aAAaQ,UAAU9B,IAE7B+B,UAAW,SAASjB,GACnB1N,KAAKuN,gBAAgBoB,UAAUjB,IAEhCkB,YAAa,WAEZ,MAAO5O,MAAKuC,OAAOuF,UAEpBuC,YAAa,SAASvC,GACrB9H,KAAKuC,OAAO8H,YAAYvC,IAEzBuD,YAAa,SAASC,GACrBtL,KAAKuC,OAAO8I,YAAYC,IAEzBlB,aAAc,SAAS/B,GACtBrI,KAAKuC,OAAO6H,aAAa/B,IAE1BwF,UAAW,SAAShJ,GACnBA,EAAMmB,OAAShG,KACfA,KAAK+E,QAAQF,EAAMyB,KAAMzB,IAE1BgK,SAAU,WACThK,MAAMC,iBACN9E,KAAK6N,WACJvH,KAAMtB,EAAO8J,UAGfC,aAAc,SAASlK,GACtBA,EAAMC,iBACN9E,KAAK6N,WACJvH,KAAMtB,EAAOgK,mBAMbhK,GACH2I,KAAM,OACNC,MAAO,QACPoB,WAAY,aACZ3I,GAAI,KACJ2H,QAAS,UACTpG,QAAS,UACT2G,KAAM,OACND,OAAQ,SACRE,OAAQ,SACRM,OAAQ,SACRtC,KAAM,QAIHuB,EAAa,WAChB,GAAIrF,IACHiE,KAAM,wBACNsC,OAAQ,wBAET,OAAO7O,GAAS4C,KAAKC,QACpBO,WAAY,SAASb,GACpB3C,KAAK2C,QAAUA,EACf3C,KAAKkP,QAAQvM,EAAQL,QACrBrC,EAAEmJ,QAAQpJ,KAAM,iBAEjBoD,QACC8C,MAAO,SACPC,WAAY,UAEb8H,aAAc,SAASpJ,GACtB7E,KAAKkP,QAAQrK,EAAM/D,OAEpBoO,QAAS,SAAS5M,GACjB,GAAIsB,GAAM5D,KAAK4D,GACfA,GAAIuL,YAAYzG,EAAIiE,KAAMrK,GAC1BsB,EAAIuL,YAAYzG,EAAIuG,QAAS3M,IAE9B8D,OAAQ,SAASvB,GAChBA,EAAMC,iBACF9E,KAAK4D,IAAI+H,SAASjD,EAAIuG,SACzBjP,KAAK+E,QAAQC,EAAOgJ,SACnB1H,KAAMtB,EAAOgJ,gBAQdR,EAAkB,WACrB,GAAI9E,IACH0G,KAAM,qBACNC,MAAO,sBAER,OAAOjP,GAAS4C,KAAKC,QACpBO,WAAY,SAASb,GACpB3C,KAAK2C,QAAUA,EACf3C,KAAK4D,IAAI+B,SAAS3F,KAAK2C,QAAQ+K,OAAShF,EAAI0G,KAAO1G,EAAI2G,QAExDjM,QACC8C,MAAO,SACPC,WAAY,UAEbwI,UAAW,SAASW,GACnB,GAAI1L,GAAM5D,KAAK4D,GACfA,GAAIuL,YAAYzG,EAAI0G,KAAME,GAC1B1L,EAAIuL,YAAYzG,EAAI2G,OAAQC,IAE7BlJ,OAAQ,SAASvB,GAChBA,EAAMC,gBACN,IAAIlB,GAAM5D,KAAK4D,IACd2L,EAAW3L,EAAI+H,SAASjD,EAAI2G,OAC5BnC,EAAaqC,EAAyBvK,EAAO4I,MAArB5I,EAAO2I,IAChC/J,GAAIuL,YAAYzG,EAAI0G,KAAMG,GAC1B3L,EAAIuL,YAAYzG,EAAI2G,OAAQE,GAC5BvP,KAAK+E,QAAQmI,GACZ5G,KAAM4G,UAONiB,EAAe,WAClB,GAAIzF,IACF8G,SAAU,gBACVC,OAAQ,uBACRC,KAAM,qBACNC,WAAY,6CACZpN,OAAQ,8BACRmE,MAAO,0CAERkJ,EAAW,SAAS/K,GACnB,GAAIgL,GAAU3P,EAAE2E,EAAMmB,OACtB,OAAO6J,GAAQlE,SAASjD,EAAIgH,OAASG,EAAQlE,SAASjD,EAAI+G,QAE5D,OAAOrP,GAAS4C,KAAKC,QACpB4F,SAAS,EACTiH,eACC5J,MAAS,SACTC,WAAc,UAEf4J,aACCC,qCAAsC,gBACtCC,0CAA2C,gBAC3CC,UAAa,cACbC,WAAc,aACdC,oDAAqD,gBACrDC,qDAAsD,iBAEvDjN,OAAQ,WACP,MAAIpD,MAAK2C,QAAQ0L,iBACTpO,EAAEgD,OAAOjD,KAAK8P,cAAe9P,KAAK+P,aAEnC/P,KAAK8P,eAEbtM,WAAY,SAASb,GAGpB,GAFA1C,EAAEmJ,QAAQpJ,KAAM,cAChBA,KAAK2C,QAAUA,EACXA,EAAQ0L,iBAAkB,CAC7BpO,EAAEmJ,QAAQpJ,KAAM,cAAe,kBAAmB,eAClD,IAAIsQ,GAAOpQ,EAAEoJ,SACbtJ,MAAKuJ,SAAS+G,EAAM,YAAatQ,KAAKwJ,aACtCxJ,KAAKuJ,SAAS+G,EAAM,UAAWtQ,KAAKyJ,iBACpCzJ,KAAKuQ,QAAUvQ,KAAKE,EAAE,IAAMwI,EAAInG,QAChCvC,KAAKwQ,WAAatQ,EAAEF,KAAKuQ,QAAQE,UACjCzQ,KAAK0Q,OAAS1Q,KAAKE,EAAE,IAAMwI,EAAIhC,OAEhC1G,KAAK2Q,QAAU3Q,KAAK2C,QAAQyL,MAC5BpO,KAAK0O,UAAU5H,MAAMnE,EAAQiK,QAAU,GAAMjK,EAAQiK,QACrD3M,EAAE2Q,MAAM5Q,KAAK6Q,WAAY,MAE1BvG,WAAY,SAASzB,GAChB7I,KAAK6I,UAAYA,IACpB7I,KAAK6I,QAAUA,GACVA,GAAW7I,KAAKwQ,YACpBxQ,KAAKwQ,WAAW3K,YAAY6C,EAAIiH,cAInC3D,cAAe,SAASnH,GACvBA,EAAMC,iBACN9E,KAAK8I,UAAW,GAEjBgI,iBAAkB,WACjB,IAAK9Q,KAAK+Q,SAAU,CACnB,GAAIjF,GAAS9L,KAAK4D,IAAIkI,QAClBA,GAAOP,MAAQ,IAClBvL,KAAK+Q,SAAWjF,GAGlB,MAAO9L,MAAK+Q,UAEbC,WAAY,SAASnM,GACpB7E,KAAKiR,aAAc,CACnB,IAAIC,GAAUrM,EAAMqM,QACnBH,EAAW/Q,KAAK8Q,kBACb7Q,GAAEkR,YAAYD,KAEjBA,EAAUrM,EAAMwC,MAAQ0J,EAASpI,KAElC,IAAIyI,GAA0B,EAAVF,GAAeA,GAAWH,EAASxF,MAEtD8F,EAA0BnR,EAAlB2E,EAAMyM,UAAczM,EAAMyM,UAAezM,EAAM0M,eAEvDC,EAAaJ,GAAiBC,EAAM1F,SAASjD,EAAI8G,UAAY,EAAI,IAClEvP,GAAE2Q,MAAM5Q,KAAKyR,aAAcD,IAE5BE,YAAa,WACZ1R,KAAKiR,YAAcjR,KAAK6I,QACxB7I,KAAKyR,gBAENA,aAAc,WACbzR,KAAKwQ,WAAWrB,YAAYzG,EAAIiH,WAAY3P,KAAKiR,cAElDvF,cAAe,SAAS7G,GACvBA,EAAMC,iBAEN9E,KAAK2Q,SAAU,EACf3Q,KAAK+E,QAAQC,EAAOwJ,QACnBlI,KAAMtB,EAAOwJ,SAEdxO,KAAK0O,UAAU1O,KAAK2R,2BAA2B9M,EAAM+M,MAAQ5R,KAAK6R,wBAEnEhB,WAAY,SAASjE,GAChB3M,EAAEkR,YAAYvE,KACjBA,EAAS5M,KAAK2Q,QAAU,EAAI3Q,KAAK8R,eAE9B9R,KAAK0Q,SACR1Q,KAAK0Q,OAAOhI,KACXqJ,IAAK/R,KAAKgS,mCAAmCpF,KAEf,IAA3B5M,KAAKiS,mBACRhS,EAAE2Q,MAAM5Q,KAAK6Q,WAAY,KAG3B,IAAIqB,GAAWtF,EAAS,CACxB5M,MAAK4D,IAAIuL,YAAYzG,EAAIgH,KAAMwC,GAC/BlS,KAAK4D,IAAIuL,YAAYzG,EAAI+G,QAASyC,IAEnC1I,YAAa,SAAS3E,GACrB,GAAI7E,KAAK8I,SAAU,CAClBjE,EAAMC,gBACN,IAAI8G,GAAS/G,EAAM+M,KAEnB5R,MAAK2Q,SAAU,EACf3Q,KAAK+E,QAAQC,EAAOwJ,QACnBlI,KAAMtB,EAAOwJ,SAEdxO,KAAK0O,UAAU1O,KAAK2R,2BAA2B/F,EAAS5L,KAAK6R,yBAG/DpI,gBAAiB,SAAS5E,GACrB7E,KAAK8I,WACRjE,EAAMC,iBACN9E,KAAK8I,UAAW,IAGlB6I,2BAA4B,SAAS/F,GACpC,GAAImG,GAAM/K,KAAK0D,IAAI,EAAGkB,GACrBuG,EAAenS,KAAKiS,iBAErB,OADAF,GAAM/K,KAAK2D,IAAIoH,EAAKI,GACb,EAAIJ,EAAMI,GAElBH,mCAAoC,SAASI,GAC5C,OAAQ,EAAIA,GAAcpS,KAAKiS,mBAEhCJ,mBAAoB,WAInB,MAHK7R,MAAK6L,kBACT7L,KAAK6L,gBAAkB7L,KAAKuQ,QAAQzE,SAASiG,KAEvC/R,KAAK6L,iBAEboG,gBAAiB,WAIhB,MAHKjS,MAAKmS,eACTnS,KAAKmS,aAAenS,KAAKuQ,QAAQzE,SAASuG,OAASrS,KAAK0Q,OAAO5E,SAASuG,QAElErS,KAAKmS,cAEbzD,UAAW,SAAS9B,GACf9F,MAAM8F,KAGVA,EAAS5F,KAAKyD,MAAe,IAATmC,GAAgB,IAChC5M,KAAK8R,gBAAkBlF,IAC1B5M,KAAK8R,cAAgBlF,EACrB5M,KAAK+E,QAAQC,EAAOsJ,QACnBhI,KAAMtB,EAAOsJ,OACbxN,KAAMd,KAAK8R,cACX9L,OAAQhG,OAETA,KAAK6Q,gBAGPzK,OAAQ,SAASvB,GAIhB,GAFA7E,KAAK2Q,SAAU,EACf9L,EAAMC,iBACF8K,EAAS/K,GAAQ,CACpB,GAAIjB,GAAM5D,KAAK4D,IACdsO,EAAWtO,EAAI+H,SAASjD,EAAI+G,QAC5BvC,EAAYgF,EAAWlN,EAAOwJ,OAASxJ,EAAOuJ,KAC9C+D,EAASJ,EAAWlS,KAAK8R,cAAgB,CAC1C9R,MAAK6Q,WAAWyB,GAChBtS,KAAK+E,QAAQmI,GACZ5G,KAAM4G,UAWX,OAJA7M,GAAI0C,UAAYA,EAChB1C,EAAIkG,SAAWA,EACflG,EAAIiF,SAAWA,EACfjF,EAAI2E,OAASA,EACN3E"}