{"version":3,"file":"mtvn.min.js","sources":["mtvn.js"],"names":["root","factory","MTVNPlayer","require","provide","apply","arguments","this","_","$","Handlebars","Backbone","GUI","version","build","Templates","template","1","depth0","helpers","partials","data","helper","functionType","helperMissing","escapeExpression","buttonLink","call","name","hash","buttonTarget","buttonText","compiler","main","stack1","buffer","fn","program","inverse","noop","useData","isDVR","slider","metadata","TimeDisplay","View","extend","variable","initialize","options","playhead","duration","render","$el","html","formatTime","sec","isNaN","h","Math","floor","m","s","AdDisplay","tagName","className","events","LEARN_MORE_EVENT_ONLY","click .mtvn-ad-gui-learn-more","touchstart .mtvn-ad-gui-learn-more","defaults","DEFAULT_COPY","delegateEvents","$countdown","renderMessage","time","messageTempate","getTemplate","countdown","interpolate","text","messageText","countdownText","index","total","countdownTextWithPosition","onLearnMore","event","preventDefault","trigger","Events","LEARN_MORE","TopPanelModel","availableShareItems","validate","share","intersection","TopPanel","click .mtvn-tp-share","touchstart .mtvn-tp-share","timeDisplay","el","setMetadata","setPlayhead","hide","addClass","show","removeClass","onShare","SHARE","target","ClosedCaptionButton","ccEnabled","click","touchstart","toggle","CC","type","Controls","Slider","RESIZE","thumb","thumbActive","getPageX","pageX","touches","length","SliderDVRMixin","_isLive","IS_LIVE_THRESHOLD","checkLive","isLive","IS_LIVE","SegmentedSlider","isSegmented","createDividers","$dividerContainer","empty","each","durations","append","moveDividers","dividers","children","css","left","getLeftFromPlayhead","enabled","dragging","sliderWidth","touchstart .mtvn-controls-slider-thumb-container","touchmove .mtvn-controls-slider-thumb-container","touchend .mtvn-controls-slider-thumb-container","mousedown .mtvn-controls-slider-thumb-container","bindAll","$document","document","listenTo","onThumbMove","onThumbInactive","$thumbContainer","$progress","$buffered","$toolTipContainer","$toolTipTime","throttledMeasure","throttle","measure","throttledRender","setDurations","setEnabled","seeking","parseFloat","round","max","min","isArray","currentDuration","map","num","pop","on","bind","moveThumb","updateTime","setBuffered","buffered","width","offsetWidth","onSliderClick","hasClass","moveTo","containerOffset","offset","sendSeek","onThumbActive","abs","lastLeft","getTimeFromThumb","percent","thumbLeft","p","getTimeDisplayText","SEEK","CONTROLS_TEMPLATE","playPause","live","volume","cc","addEvents","listener","dispatcher","cb","eventName","click .mtvn-controls-fullscreen","touchstart .mtvn-controls-fullscreen","click .pjs-controls-rewind","touchstart .pjs-controls-rewind","playPauseButton","PlayPauseButton","paused","PLAY","PAUSE","sendEvent","liveButton","LiveButton","GO_LIVE","onLiveChange","closedCaptionButton","setVolume","setPaused","getPlayhead","onRewind","REWIND","onFullscreen","FULLSCREEN","MUTE","VOLUME","UNMUTE","golive","setLive","toggleClass","play","pause","isPaused","showPlay","controls","unmute","mute","showSlider","isButton","$target","defaultEvents","mouseEvents","click .mtvn-controls-volume-slider","touchstart .mtvn-controls-volume-slider","mouseover","mouseleave","mousedown .mtvn-controls-volume-slider-foreground","touchstart .mtvn-controls-volume-slider-foreground","showVolumeSlider","$doc","$slider","$container","parent","$thumb","isMuted","muted","delay","updateView","getElementOffset","elOffset","onMouseOut","isMouseOver","offsetX","isUndefined","isLeftOrRight","$toEl","toElement","relatedTarget","toggleTime","toggleSlider","onMouseOver","calculatePercentageFromTop","pageY","getContainerOffset","currentVolume","top","calculateSliderValueFromPercentage","getVolumeHeight","showMute","volumeHeight","percentage","height","newVol"],"mappings":"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"}