{"version":3,"file":"gui.min.js","sources":["gui.js"],"names":["GUI","_","$","Handlebars","Backbone","version","build","Templates","this","template","1","depth0","helpers","partials","data","helper","functionType","helperMissing","escapeExpression","buttonLink","call","name","hash","buttonTarget","buttonText","compiler","main","stack1","buffer","fn","program","inverse","noop","useData","slider","lambda","options","blockHelperMissing","metadata","share","apply","TimeDisplay","View","extend","variable","initialize","playhead","duration","render","$el","html","formatTime","sec","isNaN","h","Math","floor","m","s","AdDisplay","tagName","className","events","LEARN_MORE_EVENT_ONLY","click .mtvn-ad-gui-learn-more","touchstart .mtvn-ad-gui-learn-more","defaults","DEFAULT_COPY","delegateEvents","$countdown","renderMessage","time","messageTempate","getTemplate","countdown","interpolate","text","messageText","countdownText","index","total","countdownTextWithPosition","onLearnMore","event","preventDefault","trigger","Events","LEARN_MORE","TopPanelModel","availableShareItems","validate","intersection","TopPanel","click .pjs-controls-share","touchstart .pjs-controls-share","click .pjs-controls-center","touchstart .pjs-controls-center","click .pjs-controls-fullscreen","touchstart .pjs-controls-fullscreen","timeDisplay","el","$sharePanel","hide","setMetadata","setPlayhead","addClass","show","removeClass","showShare","onShare","SHARE","type","target","onFullscreen","FULLSCREEN","ClosedCaptionButton","ccEnabled","click","touchstart","toggle","CC","Controls","Slider","RESIZE","thumb","thumbActive","getPageX","pageX","touches","length","SliderDVRMixin","_isLive","IS_LIVE_THRESHOLD","checkLive","isLive","IS_LIVE","SegmentedSlider","isSegmented","createDividers","$dividerContainer","empty","each","durations","append","moveDividers","dividers","children","css","left","getLeftFromPlayhead","enabled","dragging","sliderWidth","touchstart .mtvn-controls-slider-thumb-container","touchmove .mtvn-controls-slider-thumb-container","touchend .mtvn-controls-slider-thumb-container","mousedown .mtvn-controls-slider-thumb-container","bindAll","$document","document","listenTo","onThumbMove","onThumbInactive","$thumbContainer","$progress","$buffered","$toolTipContainer","$toolTipTime","throttledMeasure","throttle","measure","throttledRender","setDurations","isDVR","setEnabled","seeking","parseFloat","round","max","min","isArray","currentDuration","map","num","pop","on","bind","moveThumb","updateTime","setBuffered","buffered","width","offsetWidth","onSliderClick","hasClass","moveTo","containerOffset","offset","sendSeek","onThumbActive","abs","lastLeft","getTimeFromThumb","percent","thumbLeft","p","getTimeDisplayText","SEEK","CONTROLS_TEMPLATE","playPause","live","volume","cc","addEvents","listener","dispatcher","cb","eventName","click .pjs-controls-rewind","touchstart .pjs-controls-rewind","$currentTime","$duration","playPauseButton","PlayPauseButton","paused","PLAY","PAUSE","sendEvent","liveButton","LiveButton","GO_LIVE","onLiveChange","closedCaptionButton","setVolume","setPaused","getPlayhead","totalDuration","reduce","memo","onRewind","REWIND","MUTE","VOLUME","UNMUTE","golive","setLive","toggleClass","play","pause","isPaused","showPlay","controls","unmute","mute","showSlider","isButton","$target","defaultEvents","mouseEvents","click .mtvn-controls-volume-slider","touchstart .mtvn-controls-volume-slider","mouseover","mouseleave","mousedown .mtvn-controls-volume-slider-foreground","touchstart .mtvn-controls-volume-slider-foreground","showVolumeSlider","$doc","$slider","$container","parent","$thumb","isMuted","muted","delay","updateView","getElementOffset","elOffset","onMouseOut","isMouseOver","offsetX","isUndefined","isLeftOrRight","$toEl","toElement","relatedTarget","toggleTime","toggleSlider","onMouseOver","calculatePercentageFromTop","pageY","getContainerOffset","currentVolume","top","calculateSliderValueFromPercentage","getVolumeHeight","showMute","volumeHeight","percentage","height","newVol"],"mappings":"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"}