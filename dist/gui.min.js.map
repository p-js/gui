{"version":3,"file":"gui.min.js","sources":["gui.js"],"names":["GUI","_","$","Handlebars","Backbone","version","build","Templates","this","template","1","depth0","helpers","partials","data","helper","functionType","helperMissing","escapeExpression","buttonLink","call","name","hash","buttonTarget","buttonText","compiler","main","stack1","buffer","fn","program","inverse","noop","useData","3","5","7","isDVR","isLive","slider","ccEnabled","showVolume","lambda","options","blockHelperMissing","metadata","share","apply","AdDisplay","View","extend","tagName","className","events","LEARN_MORE_EVENT_ONLY","click .mtvn-ad-gui-learn-more","touchstart .mtvn-ad-gui-learn-more","initialize","render","defaults","DEFAULT_COPY","$el","html","delegateEvents","$countdown","renderMessage","time","messageTempate","getTemplate","countdown","interpolate","text","messageText","countdownText","index","total","countdownTextWithPosition","onLearnMore","event","preventDefault","trigger","Events","LEARN_MORE","TopPanelModel","availableShareItems","validate","intersection","TopPanel","click .mtvn-tp-share","touchstart .mtvn-tp-share","setMetadata","hide","addClass","show","removeClass","onShare","SHARE","target","ClosedCaptionButton","click","touchstart","toggle","CC","type","Controls","Slider","RESIZE","thumb","thumbActive","formatTime","sec","isNaN","h","Math","floor","m","s","getPageX","pageX","touches","length","SliderDVRMixin","_isLive","IS_LIVE_THRESHOLD","checkLive","IS_LIVE","duration","playhead","SegmentedSlider","isSegmented","createDividers","$dividerContainer","empty","each","durations","append","moveDividers","dividers","children","css","left","getLeftFromPlayhead","enabled","dragging","sliderWidth","touchstart .mtvn-controls-slider-thumb-container","touchmove .mtvn-controls-slider-thumb-container","touchend .mtvn-controls-slider-thumb-container","mousedown .mtvn-controls-slider-thumb-container","bindAll","$document","document","listenTo","onThumbMove","onThumbInactive","$thumbContainer","$progress","$buffered","$timeDisplay","$toolTipContainer","$toolTipTime","throttledMeasure","throttle","measure","throttledRender","setDurations","setPlayhead","setEnabled","seeking","parseFloat","round","max","min","isArray","currentDuration","map","num","pop","on","bind","moveThumb","updateTime","setBuffered","buffered","width","offsetWidth","visibility","onSliderClick","hasClass","moveTo","containerOffset","offset","sendSeek","onThumbActive","abs","lastLeft","getTimeFromThumb","percent","thumbLeft","p","getTimeDisplayText","SEEK","CONTROLS_TEMPLATE","playPause","live","volume","cc","addEvents","listener","dispatcher","cb","eventName","click .mtvn-controls-fullscreen","touchstart .mtvn-controls-fullscreen","click .mtvn-controls-rewind","touchstart .mtvn-controls-rewind","playPauseButton","PlayPauseButton","el","paused","PLAY","PAUSE","sendEvent","liveButton","LiveButton","GO_LIVE","onLiveChange","volumeButton","VolumeButton","muted","showVolumeSlider","VOLUME","MUTE","UNMUTE","closedCaptionButton","setVolume","setPaused","getPlayhead","onRewind","REWIND","onFullscreen","FULLSCREEN","golive","setLive","toggleClass","play","pause","isPaused","showPlay","controls","unmute","mute","showSlider","isButton","$target","defaultEvents","mouseEvents","click .mtvn-controls-volume-slider","touchstart .mtvn-controls-volume-slider","mouseover","mouseleave","mousedown .mtvn-controls-volume-slider-foreground","touchstart .mtvn-controls-volume-slider-foreground","$doc","$slider","$container","parent","$thumb","isMuted","delay","updateView","getElementOffset","elOffset","onMouseOut","isMouseOver","offsetX","isUndefined","isLeftOrRight","$toEl","toElement","relatedTarget","toggleTime","toggleSlider","onMouseOver","calculatePercentageFromTop","pageY","getContainerOffset","currentVolume","top","calculateSliderValueFromPercentage","getVolumeHeight","showMute","volumeHeight","percentage","height","newVol"],"mappings":"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"}